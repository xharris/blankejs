language: node_js
node_js: '12'
cache: npm

# A list of operating systems which are used for tests
os:
  - linux
  # - osx
# osx_image: xcode8.4 # define OS X image which will be mounted
dist: xenial

services:
  - xvfb

addons:
  apt:
    packages:
      - xvfb
      
install:
  - npm i
  - export DISPLAY=':99.0'
  - Xvfb :99 -screen 0 1024x768x24 > /dev/null 2>&1 &
  
script:
  - xvfb-maybe --server-args="-screen 0 1024x768x24" npm test