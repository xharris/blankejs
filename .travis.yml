language: node_js
node_js: '12'
cache: npm

# A list of operating systems which are used for tests
os:
  - linux
  # - osx
# osx_image: xcode8.4 # define OS X image which will be mounted
dist: xenial

services:
  - xvfb
      
addons:
  chrome: stable

before_install:
  - # start your web application and listen on `localhost`
  - google-chrome-stable --headless --disable-gpu --remote-debugging-port=9222 http://localhost &
  â‹®

install:
  - npm i
  - export DISPLAY=':99.0'
  
script:
  - xvfb-run -a --server-args="-screen 0 1024x768x24" mocha --exit ./test